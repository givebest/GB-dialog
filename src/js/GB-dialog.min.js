!function(){function e(){if(a(g))(n=document.createElement("div")).id=p,n.className="gb-dialog",a(g).appendChild(n);else{var e=document.createElement("section"),n=document.createElement("div");e.id=g,e.className="gb-overlay",e.style.display="none",n.id=p,n.className="gb-dialog",e.appendChild(n),f.appendChild(e)}s=a(g)}function n(e){var e=e||{};if(v=f.scrollTop||-parseFloat(f.style.top)||0,e.id)d=a(e.id);else{d=s.lastElementChild||s.children[s.children.length];var n=void 0===e.btnConfirm?"确定":!!e.btnConfirm&&e.btnConfirm,t=void 0===e.btnCancel?"取消":!!e.btnCancel&&e.btnCancel,l=[];l.push('<div class="gb-dialog-head '+(e.title||e.btnClose?"":"gb-hide")+'">'),e.title&&l.push('<div class="gb-dialog-title">'+e.title+"</div>"),e.btnClose&&l.push('<a href="javascript:;" class="gb-dialog-close icono-cross">X</a>'),l.push("</div>"),l.push('<div class="gb-dialog-container">'),l.push(e.content),l.push("</div>"),l.push('<div class="gb-dialog-foot  gb-btn-group '+(n||t?"":"gb-hide")+'">'),n&&l.push('<a href="javascript:;" class="gb-btn gb-dialog-confirm">'+n+"</a>"),t&&l.push('<a href="javascript:;" class="gb-btn gb-dialog-cancel">'+t+"</a>"),l.push("</div>"),d.innerHTML=l.join("")}r=d.querySelectorAll("div.gb-dialog");for(var c=0;c<r.length;c++)r[c].style.display="none";f.style.top=-v+"px",f.style.position="fixed",f.style.overflowY="hidden",d.style.display="block",s.style.display="block",e.confirm&&(u.confirm=e.confirm),e.cancel&&(u.cancel=e.cancel),e.verify&&(u.verify=e.verify),e.close&&(u.close=e.close),o(d,"click",i)}function t(e){l(e,"click",i),u={},f.style.position="static",f.style.top=0,f.style.overflowY="auto",f.scrollTop=v,s.style.display="none",e.style.display="none"}function i(e){var n=(e=e||window.event).target||e.srcElement,i=this;c(n,"gb-dialog-confirm")?("function"==typeof u.confirm&&u.confirm(),t(i)):c(n,"gb-dialog-cancel")?("function"==typeof u.cancel&&u.cancel(),t(i)):c(n,"gb-dialog-close")?("function"==typeof u.close&&u.close(),t(i)):c(n,"gb-dialog-verify")&&(e.preventDefault(),"function"==typeof u.verify&&u.verify()&&"function"==typeof u.confirm&&u.confirm())}function o(e,n,t){"function"==typeof addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,t)}function l(e,n,t){"function"==typeof removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent&&e.detach("on"+n,t)}function c(e,n){return!(!e||!n)&&(e.classList?e.classList.contains(n):e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)")))}var a,s,d,r,f=document.body,g="GB-overlay",p="createDialog",v=0,u={};a=function(e){return document.getElementById(e)},function(){e()}();var y={show:function(e){return n(e)}};"function"==typeof define&&define.amd?define("GB-dialog",[],function(){return y}):void 0===window.gbDialog&&(window.gbDialog=y)}();