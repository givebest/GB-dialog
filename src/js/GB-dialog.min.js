(function(){var e=document.body,n,i="GB-overlay",t="createDialog",a,o,l,c={},s="classList"in document.createElement("a");function f(){d()}n=function(e){return document.getElementById(e)};function d(){if(n(i)){var o=document.createElement("div");o.id=t;o.className="gb-dialog";n(i).appendChild(o)}else{var l=document.createElement("section"),o=document.createElement("div");l.id=i;l.className="gb-overlay";o.id=t;o.className="gb-dialog";l.appendChild(o);e.appendChild(l)}a=n(i)}function r(e){e=e||{};if(e.id){o=n(e.id)}else{o=a.lastElementChild||a.children[a.children.length];var i=e.btnConfirm===undefined?"确定":e.btnConfirm?e.btnConfirm:false,t=e.btnCancel===undefined?"取消":e.btnCancel?e.btnCancel:false;var s=[];s.push('<div class="gb-dialog-head '+(!e.title&&!e.btnClose?"gb-hide":"")+'">');if(e.title){s.push('<div class="gb-dialog-title">'+e.title+"</div>")}if(e.btnClose){s.push('<a href="javascript:;" class="gb-dialog-close icono-cross">X</a>')}s.push("</div>");s.push('<div class="gb-dialog-container">');s.push(e.content);s.push("</div>");s.push('<div class="gb-dialog-foot  gb-btn-group '+(!i&&!t?"gb-hide":"")+'">');if(i){s.push('<a href="javascript:;" class="gb-btn gb-dialog-confirm">'+i+"</a>")}if(t){s.push('<a href="javascript:;" class="gb-btn gb-dialog-cancel">'+t+"</a>")}s.push("</div>");o.innerHTML=s.join("")}l=o.querySelectorAll("div.gb-dialog");for(var f=0;f<l.length;f++){l[f].style.display="none"}o.style.display="block";a.style.display="block";e.confirm&&(c.confirm=e.confirm);e.cancel&&(c.cancel=e.cancel);e.verify&&(c.verify=e.verify);e.close&&(c.close=e.close);v(o,"click",g)}function u(e){b(e,"click",g);c={};a.style.display="none";e.style.display="none"}function g(e){e=e||window.event;var n=e.target||e.srcELement;var i=this;if(p(n,"gb-dialog-confirm")){typeof c.confirm==="function"&&c.confirm();u(i)}else if(p(n,"gb-dialog-cancel")){typeof c.cancel==="function"&&c.cancel();u(i)}else if(p(n,"gb-dialog-close")){typeof c.close==="function"&&c.close();u(i)}else if(p(n,"gb-dialog-verify")){typeof c.verify==="function"&&c.verify()&&typeof c.confirm==="function"&&c.confirm()}}function v(e,n,i){if(typeof addEventListener==="function"){e.addEventListener(n,i,false)}else if(e.attachEvent){e.attachEvent("on"+n,i)}}function b(e,n,i){if(typeof removeEventListener==="function"){e.removeEventListener(n,i,false)}else if(e.detachEvent){e.detach("on"+n,i)}}function p(e,n){if(!e||!n)return false;if(e.classList){return e.classList.contains(n)}else{return e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)"))}}f();var m={show:function(e){return r(e)}};window.gbDialog=m;window.gbDialog===undefined&&(window.dialog=m);if(typeof define=="function"&&define.amd){define("GB-dialog",[],function(){return m})}})();