!function(){function e(){n()}function n(){if(s(u)){var e=document.createElement("div");e.id=v,e.className="gb-dialog",s(u).appendChild(e)}else{var n=document.createElement("section"),e=document.createElement("div");n.id=u,n.className="gb-overlay",e.id=v,e.className="gb-dialog",n.appendChild(e),g.appendChild(n)}d=s(u)}function i(e){if(e=e||{},e.id)r=s(e.id);else{r=d.lastElementChild||d.children[d.children.length];var n=void 0===e.btnConfirm?"确定":!!e.btnConfirm&&e.btnConfirm,i=void 0===e.btnCancel?"取消":!!e.btnCancel&&e.btnCancel,t=[];t.push('<div class="gb-dialog-head '+(e.title||e.btnClose?"":"gb-hide")+'">'),e.title&&t.push('<div class="gb-dialog-title">'+e.title+"</div>"),e.btnClose&&t.push('<a href="javascript:;" class="gb-dialog-close icono-cross">X</a>'),t.push("</div>"),t.push('<div class="gb-dialog-container">'),t.push(e.content),t.push("</div>"),t.push('<div class="gb-dialog-foot  gb-btn-group '+(n||i?"":"gb-hide")+'">'),n&&t.push('<a href="javascript:;" class="gb-btn gb-dialog-confirm">'+n+"</a>"),i&&t.push('<a href="javascript:;" class="gb-btn gb-dialog-cancel">'+i+"</a>"),t.push("</div>"),r.innerHTML=t.join("")}f=r.querySelectorAll("div.gb-dialog");for(var a=0;a<f.length;a++)f[a].style.display="none";r.style.display="block",d.style.display="block",e.confirm&&(b.confirm=e.confirm),e.cancel&&(b.cancel=e.cancel),e.verify&&(b.verify=e.verify),e.close&&(b.close=e.close),c(r,"click",o)}function t(e){a(e,"click",o),b={},d.style.display="none",e.style.display="none"}function o(e){e=e||window.event;var n=e.target||e.srcELement,i=this;l(n,"gb-dialog-confirm")?("function"==typeof b.confirm&&b.confirm(),t(i)):l(n,"gb-dialog-cancel")?("function"==typeof b.cancel&&b.cancel(),t(i)):l(n,"gb-dialog-close")?("function"==typeof b.close&&b.close(),t(i)):l(n,"gb-dialog-verify")&&"function"==typeof b.verify&&b.verify()&&"function"==typeof b.confirm&&b.confirm()}function c(e,n,i){"function"==typeof addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&e.attachEvent("on"+n,i)}function a(e,n,i){"function"==typeof removeEventListener?e.removeEventListener(n,i,!1):e.detachEvent&&e.detach("on"+n,i)}function l(e,n){return!(!e||!n)&&(e.classList?e.classList.contains(n):e.className.match(new RegExp("(\\s|^)"+n+"(\\s|$)")))}var s,d,r,f,g=document.body,u="GB-overlay",v="createDialog",b={};"classList"in document.createElement("a");s=function(e){return document.getElementById(e)},e();var p={show:function(e){return i(e)}};window.gbDialog=p,void 0===window.gbDialog&&(window.dialog=p),"function"==typeof define&&define.amd&&define("GB-dialog-compatible",[],function(){return p})}();